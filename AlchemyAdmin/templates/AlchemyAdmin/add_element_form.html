{% extends "base.html" %}

{% block title %}
	{%if not update %}
	Добавление элемента
	{%else%}
	Изменение элемента
	{%endif%}
{% endblock %}
	
{% block javascript %}
	<script src="/static/js/obj_load_drag.js"></script>
	<script src="/static/js/obj_drop.js"></script>
{% endblock %}

{% block header%}
	<li><a href="{% url 'aladmin:index' %}">Список элементов</a></li>
{% endblock %}

{% block center %}
	{{form.non_field_errors}}
	<div class="col-xs-8">
		{%if not update %}
			<form class="form-signin" role="form" method="POST" action="{% url 'aladmin:create-element' %}">
		{%else%}
			<form class="form-signin" role="form" method="POST" action="{% url 'aladmin:update-element' updated_element.id%}">
		{%endif%}
			{%csrf_token%}
			<div class="form-group">
				{{form.name.errors}}
				<label for="name">Название элемента:</label>
				{{form.name}}
			</div>
			
			<div class="form-group">
				{{form.category.errors}}
				<label for="category">Категория:</label>
				{{form.category}}
			</div>
			<div class="form-group">
				<div class="checkbox">
					<label>
						<input type="checkbox" data-toggle="collapse" data-target="#recipe" name="orig_check">Исходный элемент
					</label>
				</div>
				<div id="recipe" class="btn-group-vertical collapse in">
					Рецепт:
					<div class="btn btn-default" id="drop1">Элемент 1</div>
					<div class="btn btn-default" id="drop2">Элемент 2</div>
					<!--Element id goes here-->
					{{form.first_recipe_el}}
					{{form.second_recipe_el}}
				</div>
			</div>
			
			<div class="form-group">
				{{form.description.errors}}
				<label for="description">Описание:</label>
				{{form.description}}
			</div>
			{%if not update %}
				<button type="submit" class="btn btn-block btn-success">Создать</button>
			{%else%}
				<button type="submit" class="btn btn-block btn-success">Изменить</button>
			{%endif%}
		</form>
	</div>

	<div class="col-xs-4 elements">
		<ul class="nav nav-tabs"></ul>
		<div class="tab-content"></div>
	</div>
{% endblock %}